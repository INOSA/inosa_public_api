parameters:

services:
  _defaults:
    autowire: true
    autoconfigure: true
    bind:
      $apiUrl: 'http://%env(string:API_CONTAINER_NAME)%/internalapi/public-api'

  App\:
    resource: '../src/'
    exclude:
      - '../src/DependencyInjection/'
      - '../src/Shared/Infrastructure/Client/Entity/'
      - '../src/Kernel.php'
      - '../src/Tests/'

  App\AuthorizationServer\CreatePublicApiClient\Domain\Client\ClientCreator:
    arguments:
      $clientPersister: '@App\Shared\Infrastructure\Client\ClientPersister'

  App\DataFixtures\CreatePublicApiClient\CreatePublicApiClientDataFixtures:
    arguments:
      $clientPersister: '@App\Shared\Infrastructure\Client\PublicApiClientPersister'